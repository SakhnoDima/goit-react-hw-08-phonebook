/*! For license information please see 79.6e6b1098.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[79],{9079:function(n,t,r){r.r(t),r.d(t,{default:function(){return On}});var e,o,i,a,c,u,s,l,d,h,f,p,m,g=r(9439),v=r(8820),x=r(2791),b=r(9434),y=r(5984),w=r(5705),k=r(6727),j=r(6916),Z=function(n){return n.contacts.items},P=function(n){return n.filter.value},L=(0,j.P1)([function(n){return n.contacts.isLoading},function(n){return n.contacts.error}],(function(n,t){return!(!n||t)})),E=(0,j.P1)([Z,P],(function(n,t){var r=t.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(r)}))})),C=r(3634),_=r(8174),S=r(7246),A=r(168),O=r(5867),F=(0,O.ZP)(w.l0)(e||(e=(0,A.Z)(["\n  margin: 16px auto;\n  display: flex;\n  flex-direction: column;\n  width: ",";\n  padding: ",";\n  background-color: var(--dark-background);\n  color: var(--dark-text);\n  box-shadow: ",";\n  border-radius: ",";\n"])),(function(n){return n.theme.spacing(100)}),(function(n){return n.theme.spacing(3)}),(function(n){return n.theme.shadows.regular}),(function(n){return n.theme.spacing(1)})),N=O.ZP.label(o||(o=(0,A.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ",";\n  color: var(--light-text);\n  font-size: 20px;\n"])),(function(n){return n.theme.spacing(8)})),z=(0,O.ZP)(w.gN)(i||(i=(0,A.Z)(["\n  outline: 0;\n  border: 1px solid var(--button-border);\n  padding: 8px 12px;\n  font: inherit;\n  cursor: pointer;\n  background-color: var(--dark-background);\n  color: var(--light-text);\n  &:focus {\n    border: 1px solid ",";\n  }\n"])),(function(n){return n.theme.colors.accent})),I=O.ZP.button(a||(a=(0,A.Z)(["\n  margin: 0 auto;\n  width: 150px;\n  padding: 8px 16px;\n  font: inherit;\n  cursor: pointer;\n  border-radius: ",";\n  border: 1px solid ",";\n  color: var(--light-text);\n  background-color: var(--button-background);\n  font-size: ",";\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.spacing(1)}),(function(n){return n.theme.colors.dark}),(function(n){return n.theme.fontSizes.medium}),(function(n){return n.theme.colors.accent})),T=O.ZP.h3(c||(c=(0,A.Z)(["\n  color: red;\n  text-align: center;\n"]))),G=r(3329),q=(0,k.Ry)({name:(0,k.Z_)().required("Name is required!"),number:(0,k.Z_)().required("Number is required!").min(10,"Too Short!").max(13,"Too Long!")}),H=function(n){n.onSubmit;var t=(0,b.v9)(L),r=(0,b.I0)(),e=(0,b.v9)(Z),o=(0,y.x0)(),i=(0,y.x0)();return(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(w.J9,{initialValues:{name:"",number:""},onSubmit:function(n,t){var o=t.resetForm,i=n.name,a=n.number;if(e.some((function(n){return n.name.toLowerCase().trim()===i.toLowerCase().trim()}))){var c=localStorage.getItem(S.EH);_.Am.error("".concat(i," Is already in contacts"),{autoClose:2e3,theme:"".concat("theme-dark"===c?"dark":"light")})}else{var u={name:i,number:a},s=localStorage.getItem(S.EH);try{r(C.addContact(u)).unwrap(),_.Am.success("".concat(i," was added to your contacts"),{autoClose:2e3,theme:"".concat("theme-dark"===s?"dark":"light")})}catch(l){_.Am.error(l,{autoClose:2e3,theme:"".concat("theme-dark"===s?"dark":"light")})}o()}},validationSchema:q,children:(0,G.jsxs)(F,{autoComplete:"off",children:[(0,G.jsxs)(N,{htmlFor:o,children:["Name",(0,G.jsx)(z,{type:"text",name:"name",id:o,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$"}),(0,G.jsx)(w.Bc,{component:T,name:"name"})]}),(0,G.jsxs)(N,{htmlFor:i,children:["Number",(0,G.jsx)(z,{id:i,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}"}),(0,G.jsx)(w.Bc,{component:T,name:"number"})]}),(0,G.jsx)(I,{disabled:t,type:"submit",title:"Add contact",children:"Add contact"})]})})})},B=r(4164),V=O.ZP.div(u||(u=(0,A.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: var(--dark-background);\n  color: var(--dark-text);\n  overflow: hidden;\n"]))),Y=O.ZP.div(s||(s=(0,A.Z)(["\n  max-height: 660px;\n  overflow: auto;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  min-height: ",";\n  max-width: ",";\n  width: 100%;\n  padding: ",";\n  background-color: var(--dark-background);\n  color: var(--dark-text);\n  border-radius: ",";\n  box-shadow: ",";\n"])),(function(n){return n.theme.spacing(100)}),(function(n){return n.theme.spacing(200)}),(function(n){return n.theme.spacing(4)}),(function(n){return n.theme.spacing(1)}),(function(n){return n.theme.shadows.regular})),J=document.querySelector("#modal-root"),R=function(n){var t=n.onCloses,r=n.children;(0,x.useEffect)((function(){var n=function(n){"Escape"===n.code&&t()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[t]);return(0,B.createPortal)((0,G.jsx)(V,{onClick:function(n){n.target===n.currentTarget&&t()},children:(0,G.jsx)(Y,{children:r})}),J)},$=r(9983),D=O.ZP.button(l||(l=(0,A.Z)(["\n  position: absolute;\n  right: 20px;\n  top: 20px;\n  border-radius: 50%;\n  color: var(--button-border);\n  svg:hover {\n    fill: ",";\n  }\n"])),(function(n){return n.theme.colors.accent})),K=function(n){var t=n.children,r=n.onClick;return(0,G.jsx)($.Pd.Provider,{value:{size:"20px",hover:"red"},children:(0,G.jsx)(D,{type:"button",onClick:r,children:t})})},M=r(1413),Q=O.ZP.div(d||(d=(0,A.Z)(["\n  background-color: var(--dark-background);\n  color: var(--dark-text);\n"]))),U=O.ZP.ul(h||(h=(0,A.Z)(["\n  margin: 16px auto;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  width: ",";\n  padding: ",";\n  border-radius: ",";\n  background-color: var(--dark-background);\n  color: var(--dark-text);\n  box-shadow: ",";\n  list-style: none;\n"])),(function(n){return n.theme.spacing(100)}),(function(n){return n.theme.spacing(3)}),(function(n){return n.theme.spacing(1)}),(function(n){return n.theme.shadows.regular})),W=O.ZP.h2(f||(f=(0,A.Z)(["\n  margin-top: 16px;\n  text-align: center;\n  color: ",";\n"])),(function(n){return n.theme.colors.error})),X=r(5861),nn=r(7425),tn=O.ZP.li(p||(p=(0,A.Z)(["\n  border: 1px solid var(--button-border);\n  padding: ",";\n  border-radius: ",";\n  margin-bottom: ",";\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: ",";\n  color: var(--light-text);\n"])),(function(n){return n.theme.spacing(2)}),(function(n){return n.theme.spacing(1)}),(function(n){return n.theme.spacing(1)}),(function(n){return n.theme.fontSizes.medium})),rn=O.ZP.button(m||(m=(0,A.Z)(["\n  padding: 4px 8px;\n  font: inherit;\n  cursor: pointer;\n  border-radius: ",";\n  border: 1px solid var(--button-border);\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.spacing(1)}),(function(n){return n.theme.colors.accent}));function en(){en=function(){return n};var n={},t=Object.prototype,r=t.hasOwnProperty,e=Object.defineProperty||function(n,t,r){n[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(n,t,r){return Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{u({},"")}catch(E){u=function(n,t,r){return n[t]=r}}function s(n,t,r,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new P(o||[]);return e(a,"_invoke",{value:w(n,r,c)}),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(E){return{type:"throw",arg:E}}}n.wrap=s;var d={};function h(){}function f(){}function p(){}var m={};u(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(L([])));v&&v!==t&&r.call(v,i)&&(m=v);var x=p.prototype=h.prototype=Object.create(m);function b(n){["next","throw","return"].forEach((function(t){u(n,t,(function(n){return this._invoke(t,n)}))}))}function y(n,t){function o(e,i,a,c){var u=l(n[e],n,i);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(n){o("next",n,a,c)}),(function(n){o("throw",n,a,c)})):t.resolve(d).then((function(n){s.value=n,a(s)}),(function(n){return o("throw",n,a,c)}))}c(u.arg)}var i;e(this,"_invoke",{value:function(n,r){function e(){return new t((function(t,e){o(n,r,t,e)}))}return i=i?i.then(e,e):e()}})}function w(n,t,r){var e="suspendedStart";return function(o,i){if("executing"===e)throw new Error("Generator is already running");if("completed"===e){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===e)throw e="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e="executing";var u=l(n,t,r);if("normal"===u.type){if(e=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(e="completed",r.method="throw",r.arg=u.arg)}}}function k(n,t){var r=t.method,e=n.iterator[r];if(void 0===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=void 0,k(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=l(e,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[n.resultName]=i.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function j(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function Z(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function P(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(j,this),this.reset(!0)}function L(n){if(n||""===n){var t=n[i];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var e=-1,o=function t(){for(;++e<n.length;)if(r.call(n,e))return t.value=n[e],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}throw new TypeError(typeof n+" is not iterable")}return f.prototype=p,e(x,"constructor",{value:p,configurable:!0}),e(p,"constructor",{value:f,configurable:!0}),f.displayName=u(p,c,"GeneratorFunction"),n.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,p):(n.__proto__=p,u(n,c,"GeneratorFunction")),n.prototype=Object.create(x),n},n.awrap=function(n){return{__await:n}},b(y.prototype),u(y.prototype,a,(function(){return this})),n.AsyncIterator=y,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new y(s(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},b(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var t=Object(n),r=[];for(var e in t)r.push(e);return r.reverse(),function n(){for(;r.length;){var e=r.pop();if(e in t)return n.value=e,n.done=!1,n}return n.done=!0,n}},n.values=L,P.prototype={constructor:P,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Z),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function e(r,e){return a.type="throw",a.arg=n,t.next=r,e&&(t.method="next",t.arg=void 0),!!e}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(n,t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===n||"continue"===n)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=n,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),d},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===n)return this.complete(r.completion,r.afterLoc),Z(r),d}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===n){var e=r.completion;if("throw"===e.type){var o=e.arg;Z(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:L(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},n}var on,an,cn,un,sn,ln,dn,hn,fn,pn,mn,gn=function(n){var t=n.id,r=n.name,e=n.number,o=(0,b.I0)(),i=(0,b.v9)(L),a=localStorage.getItem(S.EH),c=function(){var n=(0,X.Z)(en().mark((function n(){return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o(C.deleteContact(t)).unwrap();case 3:_.Am.success("".concat(r," was deleted from your contacts"),{autoClose:2e3,theme:"".concat("theme-dark"===a?"dark":"light")}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),_.Am.error(n.t0,{autoClose:2e3,theme:"".concat("theme-dark"===a?"dark":"light")});case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(tn,{children:[(0,G.jsx)(nn.xiF,{}),r," : ",e,(0,G.jsx)(rn,{disabled:i,onClick:function(){return c()},children:(0,G.jsx)(nn.Ehm,{})})]})})},vn=function(){var n=(0,b.v9)(E);return(0,G.jsx)(Q,{children:n.length>0?(0,G.jsx)(U,{children:n.map((function(n){return(0,G.jsx)(gn,(0,M.Z)({},n),n.id)}))}):(0,G.jsx)(W,{children:"Contacts not found"})})},xn=O.ZP.h3(on||(on=(0,A.Z)(["\n  text-align: center;\n  margin-top: ",";\n  color: var(--light-text);\n"])),(function(n){return n.theme.spacing(4)})),bn=O.ZP.label(an||(an=(0,A.Z)(["\n  margin: 0 auto;\n  display: block;\n  width: 200px;\n  margin-top: 4px;\n"]))),yn=O.ZP.input(cn||(cn=(0,A.Z)(["\n  outline: 0;\n  cursor: pointer;\n  border: 1px solid var(--button-border);\n  width: 200px;\n  padding: 10px;\n  margin: 0 auto;\n  border-radius: ",";\n  background-color: var(--dark-background);\n  color: var(--light-text);\n\n  &:focus {\n    border: 1px solid ",";\n  }\n"])),(function(n){return n.theme.spacing(1)}),(function(n){return n.theme.colors.accent})),wn=r(6895),kn=function(){var n=(0,b.I0)();return(0,G.jsxs)("div",{children:[(0,G.jsx)(xn,{children:"Find contacts by name"}),(0,G.jsx)(bn,{children:(0,G.jsx)(yn,{name:"filter",type:"text",value:(0,b.v9)(P),onChange:function(t){n((0,wn.p)(t.target.value))}})})]})},jn=O.ZP.div(un||(un=(0,A.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Zn=O.ZP.section(sn||(sn=(0,A.Z)(["\n  margin: 40px auto;\n  padding: 16px;\n  width: ",";\n  box-shadow: ",";\n  border-radius: ",";\n  background-color: var(--dark-background);\n  color: var(--dark-text);\n"])),(function(n){return n.theme.spacing(200)}),(function(n){return n.theme.shadows.regular}),(function(n){return n.theme.spacing(1)})),Pn=O.ZP.button(ln||(ln=(0,A.Z)(["\n  display: block;\n  margin: 80px auto 0;\n  width: 150px;\n  padding: 8px 16px;\n  font: inherit;\n  cursor: pointer;\n  border-radius: ",";\n  border: 1px solid var(--button-border);\n  color: var(--light-text);\n  background-color: var(--button-background);\n  font-size: ",";\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.spacing(1)}),(function(n){return n.theme.fontSizes.medium}),(function(n){return n.theme.colors.accent})),Ln=O.ZP.h1(dn||(dn=(0,A.Z)(["\n  color: var(--light-text);\n"]))),En=O.ZP.h1(hn||(hn=(0,A.Z)(["\n  color: var(--light-text);\n"]))),Cn=O.ZP.div(fn||(fn=(0,A.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n"]))),_n=O.ZP.p(pn||(pn=(0,A.Z)(["\n  color: var(--light-text);\n"]))),Sn=(0,O.ZP)(v.A09)(mn||(mn=(0,A.Z)(["\n  fill: var(--button-border);\n  width: 24px;\n  height: 24px;\n"]))),An=function(){var n=(0,b.v9)(Z);return(0,G.jsxs)(Cn,{children:[(0,G.jsx)(Sn,{}),(0,G.jsx)(_n,{children:n.length})]})},On=function(){var n=(0,x.useState)(!1),t=(0,g.Z)(n,2),r=t[0],e=t[1],o=(0,b.I0)();(0,x.useEffect)((function(){o(C.fetchContacts())}),[o]);var i=function(){e((function(n){return!n}))};return(0,G.jsxs)(Zn,{children:[(0,G.jsx)(jn,{children:(0,G.jsx)(An,{})}),(0,G.jsx)(Ln,{style:{textAlign:"center"},children:"Phonebook"}),(0,G.jsx)(H,{}),(0,G.jsx)(Pn,{type:"button",onClick:i,children:"All Cntacts"}),r&&(0,G.jsx)(R,{onCloses:i,children:(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(K,{onClick:i,children:(0,G.jsx)(v.SV5,{})}),(0,G.jsx)(En,{style:{textAlign:"center"},children:"Contacts"}),(0,G.jsx)(kn,{}),(0,G.jsx)(vn,{})]})})]})}}}]);
//# sourceMappingURL=79.6e6b1098.chunk.js.map